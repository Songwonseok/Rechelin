{"remainingRequest":"C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\src\\components\\common\\userSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\src\\components\\common\\userSearch.vue","mtime":1580704216168},{"path":"C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVXNlckFwaSBmcm9tICcuLi8uLi9hcGlzL1VzZXJBcGknOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIHRoaXMNCiAgICAgICAgICAgIC4kc3RvcmUNCiAgICAgICAgICAgIC5kaXNwYXRjaCgnTE9BRElOR19VU0VSREFUQScpOw0KDQogICAgICAgICAvL3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdMT0FESU5HX1JFQ0VOVFVTRVJEQVRBJywg7Jyg7KCAIGVtYWlsKTsNCiAgICB9LA0KICAgIGRhdGE6ICgpID0+ICh7DQogICAgICAgIHNlYXJjaDogJycsDQogICAgICAgIGZpbG1zOiBbDQogICAgICAgICAgICAiQSBUaHJvbmUgVG9vIEZhciIsICJUaGUgQ2F0IFdhc24ndCBJbnZpdGVkIiwgIllvdSBPbmx5IE1lb3cgT25jZSIsICJDYXRsZXNzIGluIFNlYXR0bGUiDQogICAgICAgIF0sDQogICAgICAgIGlucHV0U3RhdHVzOiB0cnVlLA0KICAgICAgICBoaXN0b3J5IDogew0KICAgICAgICAgICAgZW1haWwgOiAnJywNCiAgICAgICAgICAgIG5pY2tuYW1lIDogJycsDQogICAgICAgICAgICBtb3ZlVXNlciA6ICcnLA0KICAgICAgICB9LA0KICAgIH0pLA0KICAgIGNvbXB1dGVkOiB7DQoNCiAgICAgICAgZmlsdGVyZWRMaXN0KCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMNCiAgICAgICAgICAgICAgICAuJHN0b3JlDQogICAgICAgICAgICAgICAgLnN0YXRlDQogICAgICAgICAgICAgICAgLnNlYXJjaFVzZXINCiAgICAgICAgICAgICAgICAuZmlsdGVyKHBvc3QgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zdA0KICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyh0aGlzLnNlYXJjaC50b0xvd2VyQ2FzZSgpKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgY2hhbmdlSW5wdXQoKXsgLy9pZi1lbHNlIA0KICAgICAgICAgICAgaWYodGhpcy5pbnB1dFN0YXR1cyA9PSB0cnVlKSB0aGlzLmlucHV0U3RhdHVzID0gZmFsc2U7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXR1cyA9IHRydWU7DQogICAgICAgIH0sDQogICAgICAgIGNoYW5nZUlucHV0MigpeyAvL2VudGVyIOuIhOulvCDrlYwsIHVzZXIg7KCV67O06rCAIGRi7JeQIOyggOyepeuQnOuLpC4NCiAgICAgICAgICAgIGxldCBmaW5kID0gZmFsc2U7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGZvcih2YXIgaiA9MDsgajx0aGlzLiRzdG9yZS5zdGF0ZS5zZWFyY2hVc2VyLm5pY2tuYW1lLmxlbmd0aDsgaisrKXsNCiAgICAgICAgICAgICAgICBpZih0aGlzLnNlYXJjaCA9PSB0aGlzLiRzdG9yZS5zdGF0ZS5zZWFyY2hVc2VyLm5pY2tuYW1lW2pdKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZVVzZXIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5zZWFyY2hVc2VyLmVtYWlsW2pdOyANCiAgICAgICAgICAgICAgICAgICAgLy/qsoDsg4ntlZwg64uJ64Sk7J6E7J2YIGVtYWlsDQogICAgICAgICAgICAgICAgICAgIGZpbmQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGZpbmQgPT0gZmFsc2UpIHRoaXMubW92ZVVzZXIgPSAnbm90RW1haWwnDQogICAgICAgICAgICAvL3RoaXMuaGlzdG9yeS5lbWFpbCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJFbWFpbCIpOw0KICAgICAgICAgICAgdGhpcy5oaXN0b3J5LmVtYWlsID0idHFiczEwMjRAZ21haWwuY29tIg0KICAgICAgICAgICAgdGhpcy5oaXN0b3J5Lm5pY2tuYW1lID0gdGhpcy5zZWFyY2g7DQoNCiAgICAgICAgICAgDQogICAgICAgICAgICBVc2VyQXBpLnNlYXJjaFVzZXJIaXN0b3J5KHRoaXMuaGlzdG9yeSwgcmVzPT57DQogICAgICAgICAgICAgIA0KICAgICAgICAgICAgIGlmKHRoaXMuaW5wdXRTdGF0dXMgPT0gdHJ1ZSkgdGhpcy5pbnB1dFN0YXR1cyA9IGZhbHNlOw0KICAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXR1cyA9IHRydWU7DQogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2g9IiI7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ0xPQURJTkdfUkVDRU5UVVNFUkRBVEEnLCB0aGlzLmhpc3RvcnkuZW1haWwpOw0KICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sZXJyb3I9PnsgIA0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1c2VyU2VhcmNoLnZ1ZSwgc2VydmVyIOyZgCDthrXsi6Ag7Iuk7YyoIik7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLy9EQuyXkCDsoIDsnqXtlZjqs6AgZW1haWzroZwg7Jyg7KCA7Y6Y7J207KeAIOydtOuPme2VnOuLpC4gDQogICAgICAgICAgICAvL3RoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ3VzZXJQYWdlJywgcGFyYW1zOiB7IGlkOiB0aGlzLm1vdmVVc2VyIH19KSANCiAgICAgICAgICAgIC8v64uk7IucIGlucHVzdFN0YXRl66W8IOuzgO2ZlOyLnO2CpOuvgOuhnOyNqCwgVXNlcuqwgCDstZzqt7wg6rKA7IOJIGhpc3Rvcnnrpbwg67O07Jes7KSA64ukLiANCiAgICAgICAgICAgICANCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["userSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"userSearch.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\r\n    \r\n<div>\r\n<!--User가 최근 검색한 history를 보여줌 --> \r\n<div v-if=\"inputStatus\">\r\n<div class=\"input-container\">\r\n<i class=\"fas fa-search\"></i>\r\n{{inputStatus}}\r\n<b-form-input  class=\"in\" type=\"text\" v-on:keyup.enter=\"changeInput\" v-model=\"search\" list=\"this.$store.state.recentUser\"></b-form-input>\r\n  <datalist  id=\"this.$store.state.recentUser\"> \r\n        <option v-for=\"user in this.$store.state.recentUser\" v-bind:key=\"user\">{{user}}</option>\r\n  </datalist>\r\n  </div>\r\n </div>\r\n <!--User 정보 전체를 보여줌 -->\r\n<div v-else>\r\n    {{inputStatus}}\r\n    <div class=\"input-container\">\r\n    <i class=\"fas fa-search\"></i>\r\n<b-form-input class=\"in\"  type=\"text\" v-on:keyup.enter=\"changeInput2\" v-model=\"search\" list=\"this.$store.state.searchUser.nickname\"/>\r\n  <datalist id=\"this.$store.state.searchUser.nickname\">\r\n        <option v-for=\"user in this.$store.state.searchUser.nickname\"  v-bind:key=\"user\">{{user}}</option>\r\n       \r\n  </datalist>\r\n  </div>\r\n\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport UserApi from '../../apis/UserApi';\r\nexport default {\r\n    created() {\r\n        this\r\n            .$store\r\n            .dispatch('LOADING_USERDATA');\r\n\r\n         //this.$store.dispatch('LOADING_RECENTUSERDATA', 유저 email);\r\n    },\r\n    data: () => ({\r\n        search: '',\r\n        films: [\r\n            \"A Throne Too Far\", \"The Cat Wasn't Invited\", \"You Only Meow Once\", \"Catless in Seattle\"\r\n        ],\r\n        inputStatus: true,\r\n        history : {\r\n            email : '',\r\n            nickname : '',\r\n            moveUser : '',\r\n        },\r\n    }),\r\n    computed: {\r\n\r\n        filteredList() {\r\n            return this\r\n                .$store\r\n                .state\r\n                .searchUser\r\n                .filter(post => {\r\n                    return post\r\n                        .toLowerCase()\r\n                        .includes(this.search.toLowerCase())\r\n                })\r\n        }\r\n    },\r\n    methods: {\r\n        changeInput(){ //if-else \r\n            if(this.inputStatus == true) this.inputStatus = false;\r\n            else\r\n                this.inputStatus = true;\r\n        },\r\n        changeInput2(){ //enter 누를 때, user 정보가 db에 저장된다.\r\n            let find = false;\r\n            \r\n            for(var j =0; j<this.$store.state.searchUser.nickname.length; j++){\r\n                if(this.search == this.$store.state.searchUser.nickname[j]) {\r\n                    this.moveUser = this.$store.state.searchUser.email[j]; \r\n                    //검색한 닉네임의 email\r\n                    find = true;\r\n                    break;\r\n                }\r\n               \r\n            }\r\n            if(find == false) this.moveUser = 'notEmail'\r\n            //this.history.email = sessionStorage.getItem(\"userEmail\");\r\n            this.history.email =\"tqbs1024@gmail.com\"\r\n            this.history.nickname = this.search;\r\n\r\n           \r\n            UserApi.searchUserHistory(this.history, res=>{\r\n              \r\n             if(this.inputStatus == true) this.inputStatus = false;\r\n             else{\r\n                this.inputStatus = true;\r\n                this.search=\"\";\r\n                this.$store.dispatch('LOADING_RECENTUSERDATA', this.history.email);\r\n             }\r\n            },error=>{  \r\n                console.log(\"userSearch.vue, server 와 통신 실패\");\r\n            })\r\n            //DB에 저장하고 email로 유저페이지 이동한다. \r\n            //this.$router.push({ name: 'userPage', params: { id: this.moveUser }}) \r\n            //다시 inpustState를 변화시키므로써, User가 최근 검색 history를 보여준다. \r\n             \r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.in{\r\n    float:left;\r\n    border: 2px solid #f4d9bc;\r\n    border-radius: 4px;\r\n    width : 30%;    \r\n    \r\n}\r\n.in#btn{\r\n    float:right;\r\n   \r\n}\r\n#btn{\r\n    margin-top : 9px;\r\n}\r\nsvg:not(:root).svg-inline--fa {\r\n    overflow: visible;\r\n    font-size: 1.5rem;\r\n    margin-left: 9px;\r\n}\r\n.input-container {\r\n  display: -ms-flexbox; /* IE10 */\r\n  display: flex;\r\n  width: 100%;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n\r\n\r\n\r\n</style>"]}]}