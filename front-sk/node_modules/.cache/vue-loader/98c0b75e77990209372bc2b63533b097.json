{"remainingRequest":"C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\src\\components\\common\\userSearch.vue?vue&type=style&index=0&id=034abc97&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\src\\components\\common\\userSearch.vue","mtime":1580704216168},{"path":"C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\s02p13a404\\front-sk\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCg0KLmluew0KICAgIGZsb2F0OmxlZnQ7DQogICAgYm9yZGVyOiAycHggc29saWQgI2Y0ZDliYzsNCiAgICBib3JkZXItcmFkaXVzOiA0cHg7DQogICAgd2lkdGggOiAzMCU7ICAgIA0KICAgIA0KfQ0KLmluI2J0bnsNCiAgICBmbG9hdDpyaWdodDsNCiAgIA0KfQ0KI2J0bnsNCiAgICBtYXJnaW4tdG9wIDogOXB4Ow0KfQ0Kc3ZnOm5vdCg6cm9vdCkuc3ZnLWlubGluZS0tZmEgew0KICAgIG92ZXJmbG93OiB2aXNpYmxlOw0KICAgIGZvbnQtc2l6ZTogMS41cmVtOw0KICAgIG1hcmdpbi1sZWZ0OiA5cHg7DQp9DQouaW5wdXQtY29udGFpbmVyIHsNCiAgZGlzcGxheTogLW1zLWZsZXhib3g7IC8qIElFMTAgKi8NCiAgZGlzcGxheTogZmxleDsNCiAgd2lkdGg6IDEwMCU7DQogIG1hcmdpbi1ib3R0b206IDE1cHg7DQp9DQoNCg0KDQoNCg=="},{"version":3,"sources":["userSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userSearch.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\r\n    \r\n<div>\r\n<!--User가 최근 검색한 history를 보여줌 --> \r\n<div v-if=\"inputStatus\">\r\n<div class=\"input-container\">\r\n<i class=\"fas fa-search\"></i>\r\n{{inputStatus}}\r\n<b-form-input  class=\"in\" type=\"text\" v-on:keyup.enter=\"changeInput\" v-model=\"search\" list=\"this.$store.state.recentUser\"></b-form-input>\r\n  <datalist  id=\"this.$store.state.recentUser\"> \r\n        <option v-for=\"user in this.$store.state.recentUser\" v-bind:key=\"user\">{{user}}</option>\r\n  </datalist>\r\n  </div>\r\n </div>\r\n <!--User 정보 전체를 보여줌 -->\r\n<div v-else>\r\n    {{inputStatus}}\r\n    <div class=\"input-container\">\r\n    <i class=\"fas fa-search\"></i>\r\n<b-form-input class=\"in\"  type=\"text\" v-on:keyup.enter=\"changeInput2\" v-model=\"search\" list=\"this.$store.state.searchUser.nickname\"/>\r\n  <datalist id=\"this.$store.state.searchUser.nickname\">\r\n        <option v-for=\"user in this.$store.state.searchUser.nickname\"  v-bind:key=\"user\">{{user}}</option>\r\n       \r\n  </datalist>\r\n  </div>\r\n\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport UserApi from '../../apis/UserApi';\r\nexport default {\r\n    created() {\r\n        this\r\n            .$store\r\n            .dispatch('LOADING_USERDATA');\r\n\r\n         //this.$store.dispatch('LOADING_RECENTUSERDATA', 유저 email);\r\n    },\r\n    data: () => ({\r\n        search: '',\r\n        films: [\r\n            \"A Throne Too Far\", \"The Cat Wasn't Invited\", \"You Only Meow Once\", \"Catless in Seattle\"\r\n        ],\r\n        inputStatus: true,\r\n        history : {\r\n            email : '',\r\n            nickname : '',\r\n            moveUser : '',\r\n        },\r\n    }),\r\n    computed: {\r\n\r\n        filteredList() {\r\n            return this\r\n                .$store\r\n                .state\r\n                .searchUser\r\n                .filter(post => {\r\n                    return post\r\n                        .toLowerCase()\r\n                        .includes(this.search.toLowerCase())\r\n                })\r\n        }\r\n    },\r\n    methods: {\r\n        changeInput(){ //if-else \r\n            if(this.inputStatus == true) this.inputStatus = false;\r\n            else\r\n                this.inputStatus = true;\r\n        },\r\n        changeInput2(){ //enter 누를 때, user 정보가 db에 저장된다.\r\n            let find = false;\r\n            \r\n            for(var j =0; j<this.$store.state.searchUser.nickname.length; j++){\r\n                if(this.search == this.$store.state.searchUser.nickname[j]) {\r\n                    this.moveUser = this.$store.state.searchUser.email[j]; \r\n                    //검색한 닉네임의 email\r\n                    find = true;\r\n                    break;\r\n                }\r\n               \r\n            }\r\n            if(find == false) this.moveUser = 'notEmail'\r\n            //this.history.email = sessionStorage.getItem(\"userEmail\");\r\n            this.history.email =\"tqbs1024@gmail.com\"\r\n            this.history.nickname = this.search;\r\n\r\n           \r\n            UserApi.searchUserHistory(this.history, res=>{\r\n              \r\n             if(this.inputStatus == true) this.inputStatus = false;\r\n             else{\r\n                this.inputStatus = true;\r\n                this.search=\"\";\r\n                this.$store.dispatch('LOADING_RECENTUSERDATA', this.history.email);\r\n             }\r\n            },error=>{  \r\n                console.log(\"userSearch.vue, server 와 통신 실패\");\r\n            })\r\n            //DB에 저장하고 email로 유저페이지 이동한다. \r\n            //this.$router.push({ name: 'userPage', params: { id: this.moveUser }}) \r\n            //다시 inpustState를 변화시키므로써, User가 최근 검색 history를 보여준다. \r\n             \r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.in{\r\n    float:left;\r\n    border: 2px solid #f4d9bc;\r\n    border-radius: 4px;\r\n    width : 30%;    \r\n    \r\n}\r\n.in#btn{\r\n    float:right;\r\n   \r\n}\r\n#btn{\r\n    margin-top : 9px;\r\n}\r\nsvg:not(:root).svg-inline--fa {\r\n    overflow: visible;\r\n    font-size: 1.5rem;\r\n    margin-left: 9px;\r\n}\r\n.input-container {\r\n  display: -ms-flexbox; /* IE10 */\r\n  display: flex;\r\n  width: 100%;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n\r\n\r\n\r\n</style>"]}]}